// This file was auto-generated by Fern from our API Definition.

/**
 * Describes the current turn and latest state of the turn
 */
export interface ListenV2TurnInfo {
    type: "TurnInfo";
    /** The unique identifier of the request */
    request_id: string;
    /** Starts at `0` and increments for each message the server sends to the client.  This includes messages of other types, like `Connected` messages. */
    sequence_id: number;
    /**
     * The type of event being reported.
     *
     * - **Update** - Additional audio has been transcribed, but the turn state hasn't changed
     * - **StartOfTurn** - The user has begun speaking for the first time in the turn
     * - **EagerEndOfTurn** - The system has moderate confidence that the user has finished speaking for the turn. This is an opportunity to begin preparing an agent reply
     * - **TurnResumed** - The system detected that speech had ended and therefore sent an **EagerEndOfTurn** event, but speech is actually continuing for this turn
     * - **EndOfTurn** - The user has finished speaking for the turn
     */
    event: ListenV2TurnInfo.Event;
    /** The index of the current turn */
    turn_index: number;
    /** Start time in seconds of the audio range that was transcribed */
    audio_window_start: number;
    /** End time in seconds of the audio range that was transcribed */
    audio_window_end: number;
    /** Text that was said over the course of the current turn */
    transcript: string;
    /** The words in the `transcript` */
    words: ListenV2TurnInfo.Words.Item[];
    /** Confidence that no more speech is coming in this turn */
    end_of_turn_confidence: number;
}

export namespace ListenV2TurnInfo {
    /**
     * The type of event being reported.
     *
     * - **Update** - Additional audio has been transcribed, but the turn state hasn't changed
     * - **StartOfTurn** - The user has begun speaking for the first time in the turn
     * - **EagerEndOfTurn** - The system has moderate confidence that the user has finished speaking for the turn. This is an opportunity to begin preparing an agent reply
     * - **TurnResumed** - The system detected that speech had ended and therefore sent an **EagerEndOfTurn** event, but speech is actually continuing for this turn
     * - **EndOfTurn** - The user has finished speaking for the turn
     */
    export const Event = {
        Update: "Update",
        StartOfTurn: "StartOfTurn",
        EagerEndOfTurn: "EagerEndOfTurn",
        TurnResumed: "TurnResumed",
        EndOfTurn: "EndOfTurn",
    } as const;
    export type Event = (typeof Event)[keyof typeof Event];
    export type Words = Words.Item[];

    export namespace Words {
        export interface Item {
            /** The individual punctuated, properly-cased word from the transcript */
            word: string;
            /** Confidence that this word was transcribed correctly */
            confidence: number;
        }
    }
}
