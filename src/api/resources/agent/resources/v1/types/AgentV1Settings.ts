// This file was auto-generated by Fern from our API Definition.

import type * as Deepgram from "../../../../../index.js";

export interface AgentV1Settings {
    type: "Settings";
    /** Tags to associate with the request */
    tags?: string[];
    /** To enable experimental features */
    experimental?: boolean;
    flags?: AgentV1Settings.Flags;
    /** To opt out of Deepgram Model Improvement Program */
    mip_opt_out?: boolean;
    audio: AgentV1Settings.Audio;
    agent: AgentV1Settings.Agent;
}

export namespace AgentV1Settings {
    export interface Flags {
        /** Enable or disable history message reporting */
        history?: boolean;
    }

    export interface Audio {
        /** Audio input configuration settings. If omitted, defaults to encoding=linear16 and sample_rate=24000. Higher sample rates like 44100 Hz provide better audio quality. */
        input?: Audio.Input;
        /** Audio output configuration settings */
        output?: Audio.Output;
    }

    export namespace Audio {
        /**
         * Audio input configuration settings. If omitted, defaults to encoding=linear16 and sample_rate=24000. Higher sample rates like 44100 Hz provide better audio quality.
         */
        export interface Input {
            /** Audio encoding format */
            encoding: Input.Encoding;
            /** Sample rate in Hz. Common values are 16000, 24000, 44100, 48000 */
            sample_rate: number;
        }

        export namespace Input {
            /** Audio encoding format */
            export const Encoding = {
                Linear16: "linear16",
                Linear32: "linear32",
                Flac: "flac",
                Alaw: "alaw",
                Mulaw: "mulaw",
                AmrNb: "amr-nb",
                AmrWb: "amr-wb",
                Opus: "opus",
                OggOpus: "ogg-opus",
                Speex: "speex",
                G729: "g729",
            } as const;
            export type Encoding = (typeof Encoding)[keyof typeof Encoding] | string;
        }

        /**
         * Audio output configuration settings
         */
        export interface Output {
            /** Audio encoding format for streaming TTS output */
            encoding?: Output.Encoding;
            /** Sample rate in Hz */
            sample_rate?: number;
            /** Audio bitrate in bits per second */
            bitrate?: number;
            /** Audio container format. If omitted, defaults to 'none' */
            container?: string;
        }

        export namespace Output {
            /** Audio encoding format for streaming TTS output */
            export const Encoding = {
                Linear16: "linear16",
                Mulaw: "mulaw",
                Alaw: "alaw",
            } as const;
            export type Encoding = (typeof Encoding)[keyof typeof Encoding] | string;
        }
    }

    export interface Agent {
        /** Deprecated. Use `listen.provider.language` and `speak.provider.language` fields instead. */
        language?: string;
        /** Conversation context including the history of messages and function calls */
        context?: Agent.Context;
        listen?: Agent.Listen;
        think?: Agent.Think;
        speak?: Agent.Speak;
        /** Optional message that agent will speak at the start */
        greeting?: string;
    }

    export namespace Agent {
        /**
         * Conversation context including the history of messages and function calls
         */
        export interface Context {
            /** Conversation history as a list of messages and function calls */
            messages?: Context.Messages.Item[];
        }

        export namespace Context {
            export type Messages = Messages.Item[];

            export namespace Messages {
                /**
                 * A message here is either a conversational message or a function call
                 */
                export type Item =
                    /**
                     * Conversation text as part of the conversation history */
                    | {
                          type: "History";
                          role: "user" | "assistant" | string;
                          content: string;
                      }
                    /**
                     * Client-side or server-side function call request and response as part of the conversation history */
                    | {
                          type: "History";
                          function_calls: {
                              id: string;
                              name: string;
                              client_side: boolean;
                              arguments: string;
                              response: string;
                          }[];
                      };
            }
        }

        export interface Listen {
            provider?: Deepgram.agent.AgentV1SettingsAgentListenProvider;
        }

        export type Think =
            | {
                  provider: Record<string, unknown>;
                  endpoint?:
                      | {
                            url?: string | undefined;
                            headers?: Record<string, string> | undefined;
                        }
                      | undefined;
                  functions?: Record<string, unknown>[] | undefined;
                  prompt?: string | undefined;
                  context_length?: ("max" | number) | undefined;
              }
            | {
                  provider: Record<string, unknown>;
                  endpoint?:
                      | {
                            url?: string | undefined;
                            headers?: Record<string, string> | undefined;
                        }
                      | undefined;
                  functions?: Record<string, unknown>[] | undefined;
                  prompt?: string | undefined;
                  context_length?: ("max" | number) | undefined;
              }[];
        export type Speak =
            | {
                  provider: Record<string, unknown>;
                  endpoint?:
                      | {
                            url?: string | undefined;
                            headers?: Record<string, string> | undefined;
                        }
                      | undefined;
              }
            | {
                  provider: Record<string, unknown>;
                  endpoint?:
                      | {
                            url?: string | undefined;
                            headers?: Record<string, string> | undefined;
                        }
                      | undefined;
              }[];
    }
}
